{% extends "base.html" %}

{% block title %}Альбом - HendalHost{% endblock %}

{% block content %}
<h1 class="text-center">Ваш альбом</h1>
<p class="text-center">Поделитесь этой страницей: <a href="{{ request.url }}" class="text-light text-decoration-underline">{{ request.url | truncate(30) }}</a>
<button class="btn btn-outline-light btn-sm ms-2" onclick="copyToClipboard('{{ request.url }}')">Копировать</button></p>

<div class="row">
    {% for img in images %}
    <div class="col-md-4 mb-4">
        <div class="card">
            <img src="{{ img }}" class="card-img-top" alt="фото">
            <div class="card-body text-center">
                <p class="card-text">Ссылка: <a href="{{ img }}" class="text-light text-decoration-underline">{{ img | truncate(30) }}</a></p>
                <button class="btn btn-outline-light btn-sm me-2" onclick="copyToClipboard('{{ img }}')">Копировать</button>
                <a href="{{ img }}" class="btn btn-outline-light btn-sm" download>Скачать</a>
            </div>
        </div>
    </div>
    {% endfor %}
</div>

<div class="text-center">
    <a href="/" class="btn btn-outline-light btn-lg">Загрузить еще</a>
</div>

<script>
function copyToClipboard(text) {
    navigator.clipboard.writeText(text).then(() => {
        alert('Ссылка скопирована в буфер обмена!');
    }).catch(err => {
        console.error('Ошибка копирования: ', err);
        alert('Ошибка при копировании ссылки');
    });
}
</script>
{% endblock %}